(this["webpackJsonpabcwallet-extension-provider-api-demo"]=this["webpackJsonpabcwallet-extension-provider-api-demo"]||[]).push([[0],{1055:function(e,t,n){},1060:function(e,t,n){"use strict";n.r(t);var c=n(14),r=n.n(c),a=n(452),s=n.n(a),o=n(35),i=n(71),u=n(72),l=n(454),d=n(455),j=n.n(d),b=n(456),p=n.n(b),v=n(457),f=n.n(v),x=n(459),h=(n(1055),n.p+"static/media/Frame.e1369206.svg"),m=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];function O(e,t){return new e.eth.Contract(m,t)}function g(e,t,n){return new Promise(function(){var c=Object(i.a)(Object(o.a)().mark((function c(r,a){var s;return Object(o.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s=O(n,t),c.next=4,s.methods.transfer(e,"1").send({from:e},(function(e,t){e&&a(e),r(t)}));case 4:c.next=9;break;case 6:c.prev=6,c.t0=c.catch(0),a(c.t0);case 9:case"end":return c.stop()}}),c,null,[[0,6]])})));return function(e,t){return c.apply(this,arguments)}}())}var w,k=n(20),y=x.a.div(w||(w=Object(l.a)(["\n  border-bottom: solid black;\n"])));var C=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)({}),s=Object(u.a)(a,2),l=s[0],d=s[1],b=Object(c.useState)(),v=Object(u.a)(b,2),x=v[0],m=v[1],O=Object(c.useState)(),w=Object(u.a)(O,2),C=w[0],N=w[1],S=Object(c.useState)(""),A=Object(u.a)(S,2),I=A[0],T=A[1],B=Object(c.useState)(""),M=Object(u.a)(B,2),W=M[0],q=M[1];Object(c.useEffect)((function(){!function(){var e=JSON.parse(sessionStorage.getItem("userAccount"));null!=e&&(d(e),r(!0))}(),D()}),[]);var D=function(){var e=setInterval((function(){return void 0!==window.abc?m(!0):m(!1)}),1e3);return function(){clearTimeout(e)}},E=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t,n,c,r,a,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()();case 3:if(t=e.sent,console.log(t),!t){e.next=24;break}return e.next=8,t.request({method:"eth_requestAccounts"});case 8:return n=new j.a(t),N(n),e.next=12,n.eth.getAccounts();case 12:return c=e.sent,e.next=15,n.eth.getChainId();case 15:return r=e.sent,a=c[0],T(a),e.next=20,n.eth.getBalance(a);case 20:s=e.sent,s=n.utils.fromWei(s,"ether"),J(s,a,r),0===c.length&&console.log("ABC Wallet \uacfc \uc5f0\ub3d9 \ud558\uc138\uc694");case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.log("\uacc4\uc815\uc744 \uac00\uc838\uc624\ub294 \ub3d9\uc548 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc774\ub354\ub9ac\uc6c0 \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc62c\ubc14\ub974\uac8c \uad6c\uc131\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud558\uc2ed\uc2dc\uc624.");case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),J=function(e,t,n){var c={account:t,balance:e,connectionid:n};window.sessionStorage.setItem("userAccount",JSON.stringify(c));var a=JSON.parse(sessionStorage.getItem("userAccount"));d(a),r(!0)},L=function(){return void 0===x?Object(k.jsx)("button",{className:"disconnect-button",children:"Loading ABC Wallet"}):!0===x?Object(k.jsx)("button",{className:"connect-button",onClick:E,children:"Connect to ABC Wallet"}):Object(k.jsx)("button",{className:"connect-button",onClick:function(){return window.open("https://chrome.google.com/webstore/detail/abc-wallet/mlhakagmgkmonhdonhkpjeebfphligng?hl=ko&","_blank")},children:"Download ABC Wallet"})},F=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={from:I,to:I,gas:21e3,value:Math.pow(10,18)},e.next=4,C.eth.sendTransaction(t).then((function(e){return e}));case 4:n=e.sent,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t,n,c,r,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="My email is john@doe.com - 1537836206101",n=new f.a(window.abc),e.next=5,n.rpc.klay.sign(I,t);case 5:c=e.sent,r=n.utils.recover(t,c),a=r.toLowerCase()===I.toLowerCase(),console.log(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(I,W,C);case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"app",children:[Object(k.jsx)("img",{src:h,alt:"imgfile"}),Object(k.jsxs)("div",{className:"app-wrapper",children:[Object(k.jsx)("div",{className:"app-header",children:Object(k.jsxs)("h1",{style:{fontWeight:"normal"},children:[" ",Object(k.jsx)("b",{children:"ABC Wallet"})," Provider API Demo"]})}),!n&&Object(k.jsx)(L,{})]}),n&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"data-wrapper",children:[Object(k.jsx)("div",{className:"completed",children:Object(k.jsx)("b",{children:"Successfully connected to wallet address"})}),Object(k.jsx)("h2",{className:"app-details",children:l.account}),Object(k.jsxs)("h2",{className:"app-details",children:["Balance: ",l.balance]}),Object(k.jsxs)("h2",{className:"app-details",children:["Connection Id: ",l.connectionid]})]}),Object(k.jsx)(y,{children:Object(k.jsx)("button",{className:"disconnect-button",onClick:P,children:"Sign Message"})}),Object(k.jsx)(y,{children:Object(k.jsx)("button",{className:"disconnect-button",onClick:F,children:"Send Value Transfer Tx"})}),Object(k.jsxs)(y,{children:[Object(k.jsxs)("div",{style:{paddingTop:10,justifyContent:"center",alignItems:"center",display:"flex"},children:[Object(k.jsx)("label",{children:"Token Contract Address: "}),Object(k.jsx)("input",{style:{padding:"10px",marginLeft:5},placeholder:"Token Address",value:W,onChange:function(e){return q(e.target.value)}})]}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"disconnect-button",onClick:_,children:"KIP7/ERC20 Transfer"})})]}),Object(k.jsx)(y,{children:Object(k.jsx)("button",{className:"disconnect-button",onClick:function(){window.sessionStorage.removeItem("userAccount"),d({}),r(!1)},children:"Disconnect"})})]})]})})};s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(C,{})}),document.getElementById("root"))},468:function(e,t,n){var c={"./caver-abi/src/index.js":97,"./caver-account/src/index.js":55,"./caver-contract/src/index.js":67,"./caver-core-helpers/src/index.js":29,"./caver-core-method/src/index.js":49,"./caver-core-requestmanager/caver-providers-http/src/index.js":298,"./caver-core-requestmanager/caver-providers-ipc/src/index.js":308,"./caver-core-requestmanager/caver-providers-ws/src/index.js":297,"./caver-core-requestmanager/src/index.js":295,"./caver-core-subscriptions/src/index.js":89,"./caver-core/src/index.js":38,"./caver-ipfs/src/index.js":312,"./caver-kct/src/index.js":439,"./caver-klay/caver-klay-accounts/src/index.js":442,"./caver-klay/caver-klay-personal/src/index.js":445,"./caver-klay/src/index.js":446,"./caver-middleware/src/index.js":162,"./caver-net/src/index.js":231,"./caver-rpc/src/index.js":447,"./caver-rtm/src/index.js":96,"./caver-transaction/src/index.js":448,"./caver-utils/iban/src/index.js":291,"./caver-utils/promievent/src/index.js":290,"./caver-utils/src/index.js":8,"./caver-validator/src/index.js":449,"./caver-wallet/src/index.js":185};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}r.keys=function(){return Object.keys(c)},r.resolve=a,e.exports=r,r.id=468},472:function(e,t){},481:function(e,t){},483:function(e,t){},495:function(e,t){},497:function(e,t){},523:function(e,t){},524:function(e,t){},530:function(e,t){},549:function(e,t){},593:function(e,t){},595:function(e,t){},687:function(e,t){},693:function(e,t){},705:function(e,t){},706:function(e,t){}},[[1060,1,2]]]);
//# sourceMappingURL=main.1eb878fc.chunk.js.map